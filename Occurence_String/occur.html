<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <title>Search string</title>
    <style>
       h1{
         color: rgb(126, 31, 134);
       }
    </style>
</head>
<body style="background-color: rgb(164, 223, 220);">
    <center><h1 style="margin-top:10rem">OCCURENCE SEARCHER</h1>
    <h2>Choose your file to search:</h2>
    <input type="file" id="myFile">
<hr>
<h3>The text in the file is as follows:</h3>
<textarea style="width:300px;height: 200px" id="output"></textarea><br><br>
<input type="text" id="searchstring" placeholder="Enter string to search" >
<button onclick="check_string()">Start search</button>
<br>

<h2>The number of times the word occurred is :
<div id="validity"></div>
</body>
<script>
var input = document.getElementById("myFile");
var output = document.getElementById("output");

var arr="";
console.log(arr);
function check_string(){
    var str=document.getElementById("searchstring").value;
    var n = arr.search(str);
    //for insensitive case
    var ans=(arr.match(new RegExp(str, "gi")) || []).length;
    //for case sensitive : var ans=(arr.match(new RegExp(str, "g")) || []).length;
    document.getElementById('validity').innerHTML=ans;
}

input.addEventListener("change", function () {
  if (this.files && this.files[0]) {
    var myFile = this.files[0];
    var reader = new FileReader();
    
    reader.addEventListener('load', function (e) {
      output.textContent = e.target.result;
      arr=String(e.target.result);
    });
    
    reader.readAsBinaryString(myFile);
  }   
});
    </script>
</html>
